<Window x:Class="RetailCorrector.Main"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:h="clr-namespace:RetailCorrector.History"
        xmlns:r="clr-namespace:RetailCorrector.Editor.Receipt"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Title="RetailCorrector" Height="450" Width="800"
        WindowStartupLocation="CenterScreen" WindowState="Maximized">
    <DockPanel>
        <Menu IsMainMenu="True" DockPanel.Dock="Top">
            <MenuItem Header="Пространство">
                <MenuItem Header="Создать новое" Command="{Binding ClearSpace}" InputGestureText="Ctrl + N"/>
                <Separator/>
                <MenuItem Header="Получить чеки" Command="{Binding ShowParser}" InputGestureText="Ctrl + P"/>
                <Separator/>
                <MenuItem Header="Дизайнер отчета" Command="{Binding ShowReport}" InputGestureText="Ctrl + R"/>
                <MenuItem Header="Экспорт">
                    <MenuItem Header="Для локального кассира" Command="{Binding LocalExport}" InputGestureText="Alt + B"/>
                    <MenuItem Header="Для удаленного агента" IsEnabled="False" InputGestureText="Ctrl + B"/>
                </MenuItem>
            </MenuItem>
            <MenuItem Header="Правка">
                <MenuItem Header="Отменить" Command="{Binding Undo}" InputGestureText="Ctrl + Z"/>
                <MenuItem Header="Вернуть" Command="{Binding Redo}" InputGestureText="Ctrl + Y"/>
                <Separator/>
                <MenuItem Header="Инвертировать выделение" Command="{Binding InvertSelect}" InputGestureText="Ctrl + Shift + I"/>
                <Separator/>
                <MenuItem Header="Добавить" Command="{Binding ShowReceiptWizard}" InputGestureText="Ctrl + Alt + P"/>
                <MenuItem Header="Дублировать" Command="{Binding Duplicate}" InputGestureText="Ctrl + Alt + D"/>
                <MenuItem Header="Инвертировать тип чека" Command="{Binding InvertOperation}" InputGestureText="Ctrl + I"/>
                <MenuItem Header="Удалить" Command="{Binding Delete}" InputGestureText="Ctrl + D"/>
            </MenuItem>
            <MenuItem Header="Вид">
                <MenuItem Header="История изменений" IsCheckable="True" Click="SwitchVisiblity" IsChecked="True"/>
            </MenuItem>
            <MenuItem Header="Сервисы">
                <!--MenuItem Header="Менеджер модулей" Click="RunModuleManager"/-->
                <MenuItem Header="Локальный кассир" Click="RunLocalCashier"/>
            </MenuItem>
            <MenuItem Header="Помощь">
                <MenuItem Header="Открыть лог-папку" Click="ShowLogs"/>
                <MenuItem Header="Документация" Click="ShowDocs"/>
                <MenuItem Header="О программе" Click="ShowAbout"/>
            </MenuItem>
        </Menu>
        <h:HistoryList DockPanel.Dock="Left" Visibility="{Binding HistoryVisibility, Mode=OneWay}"/>
        <ScrollViewer Grid.Row="1" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
            <r:ReceiptPanel x:Name="panel"/>
        </ScrollViewer>
    </DockPanel>
</Window>
